name: ë””ìŠ¤ì½”ë“œ PR ì•Œë¦¼

on:
  pull_request:
    types: [opened, closed]

jobs:
  notify-opened:
    if: github.event.action == 'opened'
    runs-on: ubuntu-latest
    steps:
      - name: Notify PR Opened
        uses: Ilshidur/action-discord@master
        env:
          DISCORD_WEBHOOK: ${{ secrets.DISCORD_WEBHOOK }}
        with:
          args: |
            ğŸ“¢ **ìƒˆ Pull Request**
            ì œëª©: `{{ EVENT_PAYLOAD.pull_request.title }}`
            ì‘ì„±ì: `{{ EVENT_PAYLOAD.pull_request.user.login }}`
            ğŸ”— {{ EVENT_PAYLOAD.pull_request.html_url }}

  notify-merged:
    if: github.event.action == 'closed' && github.event.pull_request.merged == true
    runs-on: ubuntu-latest
    steps:
      - name: Notify PR Merged
        uses: Ilshidur/action-discord@master
        env:
          DISCORD_WEBHOOK: ${{ secrets.DISCORD_WEBHOOK }}
        with:
          args: |
            âœ… **Pull Requestê°€ ë¨¸ì§€ë˜ì—ˆìŠµë‹ˆë‹¤!**
            ì œëª©: `{{ EVENT_PAYLOAD.pull_request.title }}`
            ì‘ì„±ì: `{{ EVENT_PAYLOAD.pull_request.user.login }}`
            ğŸ”— {{ EVENT_PAYLOAD.pull_request.html_url }}

  notify-closed-unmerged:
    if: github.event.action == 'closed' && github.event.pull_request.merged == false
    runs-on: ubuntu-latest
    steps:
      - name: Notify PR Closed without Merge
        uses: Ilshidur/action-discord@master
        env:
          DISCORD_WEBHOOK: ${{ secrets.DISCORD_WEBHOOK }}
        with:
          args: |
            âŒ **Pull Requestê°€ ë¨¸ì§€ë˜ì§€ ì•Šê³  ë‹«í˜”ìŠµë‹ˆë‹¤.**
            ì œëª©: `{{ EVENT_PAYLOAD.pull_request.title }}`
            ì‘ì„±ì: `{{ EVENT_PAYLOAD.pull_request.user.login }}`
            ğŸ”— {{ EVENT_PAYLOAD.pull_request.html_url }}
